## 知识点梳理

* BOM操作
* DOM操作
* 事件绑定
* 存储

## 1. BOM

<details>
<summary>查看解析</summary>
BOM（浏览器对象模型是浏览器本身的一些信息的设置和获取，比如获取浏览器的宽度，高度，设置让浏览器跳转到哪个网址）

* navigator
* screen
* location
* history

这些对象就是一堆非常简单粗暴的API，没有任何技术含量，查一查文档就明白了了，面试官一般不会出太多这方面的题目，因为只要基础知识过关了，这些东西上网查一下就知道了

获取UA

```
var ua = navigator.userAgent
var isChrome = ua.indexOf('Chrome')
console.log(isChrome)
```

获取屏幕的高度和宽度

```
console.log(screen.width)
console.log(screen.height)
```

获取网址，协议，path，参数，hash等

```
// 例如当前网址是 https://juejin.im/timeline/frontend?a=10&b=10#some
console.log(location.href)  // https://juejin.im/timeline/frontend?a=10&b=10#some
console.log(location.protocol) // https:
console.log(location.pathname) // /timeline/frontend
console.log(location.search) // ?a=10&b=10
console.log(location.hash) // #some
```

此外，还有浏览器的前进和后退功能

```
history.back()
history.forward()
```
</details>

## 2. DOM

### 2.1 DOM的property和attribute有什么区别

<details>
<summary>查看解析</summary>
property是js的范畴，比如

```
// 通过 id 获取
var div1 = document.getElementById('div1') // 元素

// 通过 tagname 获取
var divList = document.getElementsByTagName('div')  // 集合
console.log(divList.length)
console.log(divList[0])
```
而attribute则是html元素的属性

```
var pList = document.querySelectorAll('p')
var p = pList[0]
p.getAttribute('data-name')
p.setAttribute('data-name', 'juejin')
p.getAttribute('style')
p.setAttribute('style', 'font-size:30px;')
```

</details>

### 2.2 DOM树操作

<details>
<summary>查看解析</summary>
新增节点

```
var div1 = document.getElementById('div1')

// 添加新节点
var p1 = document.createElement('p')
p1.innerHTML = 'this is p1'
div1.appendChild(p1) // 添加新创建的元素

// 移动已有节点。注意，这里是“移动”，并不是拷贝
var p2 = document.getElementById('p2')
div1.appendChild(p2)
```

获取父元素

```
var div1 = document.getElementById('div1')
var parent = div1.parentElement
```

获取子元素

```
var div1 = document.getElementById('div1')
var child = div1.childNodes
```

删除节点

```
var div1 = document.getElementById('div1')
var child = div1.childNodes
div1.removeChild(child[0])
```
</details>

## 3. 事件

### 3.1 绑定事件

<details>
<summary>查看解析</summary>

为了增加复用性和减少耦合性，我们可以这么做

```
// 通用的事件绑定函数
function bindEvent(elem, type, fn) {
    elem.addEventListener(type, fn)
}
var a = document.getElementById('link1')
// 写起来更加简单了
bindEvent(a, 'click', function(e) {
    e.preventDefault() // 阻止默认行为
    alert('clicked')
})
```

</details>
 
 此外，如果面试被问到IE低版本兼容的问题，我劝你最好放弃这份工作，互联网流量都在前沿的领域，为了IE浪费青春不值得
 
###  3.2 事件冒泡

<details>
<summary>查看解析</summary>

</details>

## 4. 存储

### 4.1 cookie和localStorage有什么区别

<details>
<summary>查看解析</summary>
cookie本身不是用来做服务端存储的，它适用于服务器和客户端之间进行信息传递的，因此我们每个http请求都带着cookie，但是cookie也具备着浏览器端存储的能力，例如记住用户名和密码，所以可以被开发者用上了。

使用方法`document.cookie = ...`

缺点

* 存储量太小（4kb）
* 所有http都带着，影响获取资源的效率
* API简单，需要封装才能用

localStorage和sessionStorage

* 存储量增大
* 不会带到http请求中
* 适用于数据存储
</details>